# 通过将划分问题（PAR）归约到广义划分问题（GPAR）证明广义划分问题是NPC

划分问题表述为：

实例：有限集合 $A$ ，对应于每个 $a \in A$，有正整数价值 $S(a) \in Z^{+}$。
询问：是否存在子集 $A^{\prime} \subseteq A$，使得 

$$\sum_{a \in a^{\prime}} S(a)=\sum_{a \in A-A^{\prime}} S(a)$$

广义划分问题（GPAR）对子集条件作出了限制，要求划分出的两个子集之间是 2倍 的关系，而不是相等，即：

$$\sum_{a \in a^{\prime}} S(a)= 2\sum_{a \in A-A^{\prime}} S(a)$$


**证明如下**

令划分问题实例 $A=\{a1,a2,...,an\}$ ，令 $B=S(A)/2$，$S(A)=\sum_{a\in A}S(a)$。


构建广义划分实例 $B=A \cup \{S(A),2S(A)+B\}$。

添加两个元素为常数项时间，所以该变换在多项式时间内可得。


(->) 当 PAR 存在划分 $A'$ 的时候，可得$S(A')=S(A-A')=B$，此时 $2S(A)+B+S(A') = 2(S(A)+B)$，得证

(<-) 当 GPAR 存在划分时候，
因为 
$$S(A)+2S(A)+B=3S(A)+B>2S(A)$$ 

所以GPAR 问题中新增的两个元素 $\{S(A),2S(A)+B\}$ 不可能同时在一个划分子集中。

此时将从原 $A$ 中挑选出的元素作为 $A'$，则下式成立（GPAR的划分条件）：

$$2S(A)+B+S(A')=2(S(A)+S(A-A'))$$

以此解得 $S(A)=S(A-A')$

